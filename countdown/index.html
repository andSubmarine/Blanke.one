<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- First three meta tags are required - all else must follow after-->
    <title>Blanke Countdown</title>

    <!-- Bootstrap -->
    <link href="../css/bootstrap.min.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- My own stylesheets and scripts -->
    <link rel="icon" href="../images/favicon.ico" type="image/ico">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="../stylesheet.css">
</head>

<body>

    <!-- Top Navigation Bar -->
    <div class="navbar-wrapper">
        <div class="container">
            <nav class="navbar navbar-inverse navbar-static-top">
                <div class="container">
                    <div class="navbar-header">
                        <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                                    <span class="sr-only">Toggle navigation</span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                    <span class="icon-bar"></span>
                                </button>
                        <img class="navbar-brand img-square" src="../images/blankeicon.png" alt="Blanke ikon">
                        <a class="navbar-brand" href="../index.html">Andreas Blanke</a>
                    </div>
                    <div id="navbar" class="navbar-collapse collapse">
                        <ul class="nav navbar-nav">
                            <li><a href="../index.html">Home</a></li>
                            <li><a href="../projects.html">Projects...</a></li>
                            <li><a href="../interesting.html">Interesting...</a></li>
                            <li><a href="../index.html#about-begin">Contact</a></li>
                        </ul>
                    </div>
                </div>
            </nav>

        </div>
    </div>

    <!-- MAIN CONTENT -->

    <div class="container-fluid">
        <div class="col-md-12 jumbotron center full">
            <div class="jumbo-inner">
                <output id="output" form="date-form" for="datepicker" name="date-out">00 : 00 : 00</output>
                <output id="help">Days : Hours : Minutes : Seconds</output>
            </div>
        </div>

        <div class="col-md-6">
            <div class="panel-help">
                <h3>How to use the countdown:</h3>
                <p>The date and time that is currently being count down to is my birthday (<span class="marked-text">26 November</span>), but that doesn't mean that it's the most interesting date. Set your own down below and set it ticking!
                </p>
            </div>

        </div>
        <div class="col-md-6">
            <div class="panel panel-default">
                <div class="panel-body">
                    <form id="date-form" name="date-form" action="javascript:changeTime();">
                        <div class="form-group">
                            <label for="datepicker">Select a time</label>
                            <input type="datetime-local" class="form-control" id="datepicker" name="datepicker">
                        </div>
                        <button type="submit" class="btn btn-primary">Begin countdown!</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <hr class="divider">

    <!-- Social Media -->
    <div class="social-media container">
        <div class="row">
            <div class="col-md-2">
                <a href="https://www.facebook.com/andsubmarine"><img class="img-circle" src="../images/facebook.png" alt="Generic placeholder image" width="100" height="100"></a>
                <p>Befriend me on <a href="https://www.facebook.com/andsubmarine">Facebook</a>!</p>
            </div>
            <div class="col-md-2">
                <a href="https://twitter.com/andSubmarine"><img class="img-circle" src="../images/twitter.png" alt="Generic placeholder image" width="100" height="100"></a>
                <p>Follow me on <a href="https://twitter.com/andSubmarine">Twitter</a>!</p>
            </div>
            <div class="col-md-2">
                <a href="https://www.linkedin.com/in/andreas-b-5a926b84?trk=nav_responsive_tab_profile"><img class="img-circle" src="../images/linkedin.png" alt="Generic placeholder image" width="100" height="100"></a>
                <p>Connect with me on <a href="https://www.linkedin.com/in/andreas-b-5a926b84?trk=nav_responsive_tab_profile">LinkedIn</a>!</p>
            </div>
            <div class="col-md-2">
                <a href="https://github.com/andSubmarine"><img class="img-square" src="../images/github.png" alt="Generic placeholder image" width="100" height="100"></a>
                <p>Check out my projects at <a href="https://github.com/andSubmarine">GitHub</a>!</p>
            </div>
            <div class="col-md-2">
                <a data-toggle="modal" data-target="#myModal"><img class="img-square" src="../images/mail.png" alt="Generic placeholder image" width="100" height="100"></a>
                <p>Send me an <a data-toggle="modal" data-target="#myModal">email</a>!</p>
            </div>
        </div>
    </div>

    <!-- EMAIL MODAL -->
    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Contact me via email</h4>
                </div>
                <div class="modal-body">
                    <form action="../sendMail.php" method="post" class="form-horizontal" target="_blank" onsubmit="return checkWhetherSent()">
                        <div class="form-group">
                            <label for="headers" class="col-sm-2 control-label">Email</label>
                            <div class="col-sm-10">
                                <input type="email" class="form-control" name="headers" placeholder="your@email.com">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="subject" class="col-sm-2 control-label">Subject</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="subject" placeholder="subject">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="message" class="col-sm-2 control-label">Message</label>
                            <div class="col-sm-10">
                                <input type="text" class="form-control" name="message" placeholder="your message">
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="submit" class="btn btn-primary form-control" value="Submit"></input>
                            </div>
                        </div>
                    </form>

                </div>
            </div>
        </div>
    </div>

    <!-- FOOTER -->
    <footer>
        <div class="container">
            <p class="pull-right"><a id="btn_goto_top" href="#">Back to top</a></p>
            <p>&copy; 2016 Andreas Blanke - Made with <a href="http://getbootstrap.com/">Bootstrap</a>
                <!--&middot; <a href="#">Privacy</a> &middot; <a href="#">Terms</a>--></p>
        </div>
        <!-- /.container -->
    </footer>


    <script type="application/javascript">
        // Set the date we're counting down to
        var mybirthday = new Date("Nov 26, 2017 00:00:00");
        var countDownDate = mybirthday.getTime();

        // Update the count down every 1 second
        var x = setInterval(updateCounter, 1000);

        console.log("countdown started towards: " + countDownDate);

        function updateCounter() {
            // Get todays date and time
            var now = new Date().getTime();

            // Find the distance between now an the count down date
            var distance = countDownDate - now;

            // If the count down is over, write some text 
            if (distance < 0) {
                clearInterval(x);
                if (countDownDate == mybirthday.getTime()) {
                    document.getElementById("output").innerHTML = "Happy Birthday, Andreas!";
                    document.getElementById("help").innerHTML = "";
                }
            } else {

                // Time calculations for days, hours, minutes and seconds
                var date = parseDistance(distance);
                var output = setupOutput(date);

                // Output the result in an element with id="demo"
                document.getElementById("output").innerHTML = output.d;
                document.getElementById("help").innerHTML = output.h;
            }
        }

        function changeTime() {
            var input = document.forms["date-form"]["datepicker"].value;
            console.log("change time called with param " + input);
            var date = new Date(input);
            console.log("parsed input to " + date)
            if ((typeof date) === "object" &&
                date != "Invalid Date") {
                console.log("passed first check");
                if (new Date() <= date) { // now is before or equal to new date
                    countDownDate = date;
                    clearInterval(x);
                    x = setInterval(updateCounter, 1000);
                } else {
                    alert("You cannot set the date to something before today!");
                }
            }
        }

        function parseDistance(distance) {
            // Time calculations for days, hours, minutes and seconds
            var days = Math.floor(distance / (1000 * 60 * 60 * 24));
            if (days < 10) days = "0" + days;

            var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            if (hours < 10) hours = "0" + hours;

            var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
            if (minutes < 10) minutes = "0" + minutes;

            var seconds = Math.floor((distance % (1000 * 60)) / 1000);
            if (seconds < 10) seconds = "0" + seconds;

            var date = {
                days,
                hours,
                minutes,
                seconds
            };
            return date;
        }

        function setupOutput(date) {
            var help = {
                d: "Days",
                h: "Hours",
                m: "Minutes",
                s: "Seconds"
            };
            if (!isEmpty(date.days)) {
                return {
                    d: date.days + " : " + date.hours + " : " + date.minutes + " : " + date.seconds,
                    h: help.d + " : " + help.h + " : " + help.m + " : " + help.s
                };
            } else if (!isEmpty(date.hours)) {
                return {
                    d: date.hours + " : " + date.minutes + " : " + date.seconds,
                    h: help.h + " : " + help.m + " : " + help.s
                };
            } else if (!isEmpty(date.minutes)) {
                return {
                    d: date.minutes + " : " + date.seconds,
                    h: help.m + " : " + help.s
                };
            } else if (!isEmpty(date.seconds)) {
                return {
                    d: date.seconds,
                    h: help.s
                };
            } else { // countdown complete
                return {
                    d: "Countdown Complete!",
                    h: ""
                };
            }
        }

        function isEmpty(value) {
            return value == "00";
        }
    </script>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="../js/bootstrap.min.js"></script>
</body>

</html>